{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\neo.co.th\\\\nextapp\\\\src\\\\pages\\\\_app.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n// react\nimport React, { useEffect, useMemo } from 'react'; // third-party\n\nimport { IntlProvider } from 'react-intl';\nimport { useStore } from 'react-redux'; // application\n\nimport Layout from '../components/Layout';\nimport { load, save, wrapper } from '../store/store';\nimport { useApplyClientState } from '../store/client';\nimport { useDirection, useLocale, useMessages } from '../store/locale/localeHooks'; // styles\n\nimport '../scss/index.scss';\n\nfunction NeoApp(_ref) {\n  _s();\n\n  var _this = this;\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      router = _ref.router;\n  var headerLayout = 'compact';\n  var applyClientState = useApplyClientState();\n  var locale = useLocale();\n  var messages = useMessages();\n  var direction = useDirection();\n  var store = useStore(); // preloader\n\n  useEffect(function () {\n    var preloader = document.querySelector('.site-preloader');\n\n    if (!preloader) {\n      return;\n    }\n\n    setTimeout(function () {\n      var onTransitionEnd = function onTransitionEnd(event) {\n        if (event instanceof TransitionEvent && event.propertyName === 'opacity' && preloader.parentNode) {\n          preloader.parentNode.removeChild(preloader);\n        }\n      };\n\n      preloader.addEventListener('transitionend', onTransitionEnd);\n      preloader.classList.add('site-preloader__fade');\n\n      if (getComputedStyle(preloader).opacity === '0' && preloader.parentNode) {\n        preloader.parentNode.removeChild(preloader);\n      }\n    }, 100);\n  }, []); // Loading and saving state on the client side (cart, wishlist, etc.).\n\n  useEffect(function () {\n    var state = load();\n\n    if (state) {\n      applyClientState(state);\n    }\n\n    if (true) {\n      store.subscribe(function () {\n        save(store.getState());\n      });\n    }\n  }, [store]);\n  useEffect(function () {\n    document.documentElement.lang = locale;\n    document.documentElement.dir = direction;\n  }, [direction, locale]);\n  var content = useMemo(function () {\n    var PageLayout = Component.Layout || React.Fragment;\n    return __jsx(Layout, {\n      headerLayout: headerLayout,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, __jsx(PageLayout, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, __jsx(Component, _extends({}, pageProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }))));\n  }, [headerLayout, Component, pageProps]);\n  return __jsx(IntlProvider, {\n    locale: locale,\n    messages: messages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, content);\n}\n\n_s(NeoApp, \"GGTnKq173mWR4tVpy56OuzH0egM=\", false, function () {\n  return [useApplyClientState, useLocale, useMessages, useDirection, useStore];\n});\n\n_c = NeoApp;\nexport default _c2 = wrapper.withRedux(NeoApp);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NeoApp\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/xampp/htdocs/neo.co.th/nextapp/src/pages/_app.tsx"],"names":["React","useEffect","useMemo","IntlProvider","useStore","Layout","load","save","wrapper","useApplyClientState","useDirection","useLocale","useMessages","NeoApp","Component","pageProps","router","headerLayout","applyClientState","locale","messages","direction","store","preloader","document","querySelector","setTimeout","onTransitionEnd","event","TransitionEvent","propertyName","parentNode","removeChild","addEventListener","classList","add","getComputedStyle","opacity","state","subscribe","getState","documentElement","lang","dir","content","PageLayout","Fragment","withRedux"],"mappings":";;;;;;AAAA;AACA,OAAOA,KAAP,IAA+BC,SAA/B,EAA0CC,OAA1C,QAAyD,OAAzD,C,CACA;;AAEA,SAASC,YAAT,QAA6B,YAA7B;AAEA,SAASC,QAAT,QAAyB,aAAzB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,OAArB,QAAoC,gBAApC;AACA,SAASC,mBAAT,QAAoC,iBAApC;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,WAAlC,QAAqD,6BAArD,C,CACA;;AACA,OAAO,oBAAP;;AAQA,SAASC,MAAT,OAA+D;AAAA;;AAAA;;AAAA,MAA7CC,SAA6C,QAA7CA,SAA6C;AAAA,MAAlCC,SAAkC,QAAlCA,SAAkC;AAAA,MAAvBC,MAAuB,QAAvBA,MAAuB;AAC3D,MAAMC,YAAY,GAAG,SAArB;AACA,MAAMC,gBAAgB,GAAGT,mBAAmB,EAA5C;AACA,MAAMU,MAAM,GAAGR,SAAS,EAAxB;AACA,MAAMS,QAAQ,GAAGR,WAAW,EAA5B;AACA,MAAMS,SAAS,GAAGX,YAAY,EAA9B;AACA,MAAMY,KAAK,GAAGlB,QAAQ,EAAtB,CAN2D,CAQ3D;;AACAH,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMsB,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAlB;;AAEA,QAAI,CAACF,SAAL,EAAgB;AACZ;AACH;;AAEDG,IAAAA,UAAU,CAAC,YAAM;AACb,UAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAkB;AACtC,YAAIA,KAAK,YAAYC,eAAjB,IAAoCD,KAAK,CAACE,YAAN,KAAuB,SAA3D,IAAwEP,SAAS,CAACQ,UAAtF,EAAkG;AAC9FR,UAAAA,SAAS,CAACQ,UAAV,CAAqBC,WAArB,CAAiCT,SAAjC;AACH;AACJ,OAJD;;AAMAA,MAAAA,SAAS,CAACU,gBAAV,CAA2B,eAA3B,EAA4CN,eAA5C;AACAJ,MAAAA,SAAS,CAACW,SAAV,CAAoBC,GAApB,CAAwB,sBAAxB;;AAEA,UAAIC,gBAAgB,CAACb,SAAD,CAAhB,CAA4Bc,OAA5B,KAAwC,GAAxC,IAA+Cd,SAAS,CAACQ,UAA7D,EAAyE;AACrER,QAAAA,SAAS,CAACQ,UAAV,CAAqBC,WAArB,CAAiCT,SAAjC;AACH;AACJ,KAbS,EAaP,GAbO,CAAV;AAcH,GArBQ,EAqBN,EArBM,CAAT,CAT2D,CAgC3D;;AACAtB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMqC,KAAK,GAAGhC,IAAI,EAAlB;;AAEA,QAAIgC,KAAJ,EAAW;AACPpB,MAAAA,gBAAgB,CAACoB,KAAD,CAAhB;AACH;;AAED,cAAqB;AACjBhB,MAAAA,KAAK,CAACiB,SAAN,CAAgB,YAAM;AAClBhC,QAAAA,IAAI,CAACe,KAAK,CAACkB,QAAN,EAAD,CAAJ;AACH,OAFD;AAGH;AACJ,GAZQ,EAYN,CAAClB,KAAD,CAZM,CAAT;AAcArB,EAAAA,SAAS,CAAC,YAAM;AACZuB,IAAAA,QAAQ,CAACiB,eAAT,CAAyBC,IAAzB,GAAgCvB,MAAhC;AACAK,IAAAA,QAAQ,CAACiB,eAAT,CAAyBE,GAAzB,GAA+BtB,SAA/B;AACH,GAHQ,EAGN,CAACA,SAAD,EAAYF,MAAZ,CAHM,CAAT;AAKA,MAAMyB,OAAO,GAAG1C,OAAO,CAAC,YAAM;AAC1B,QAAM2C,UAAU,GAAG/B,SAAS,CAACT,MAAV,IAAoBL,KAAK,CAAC8C,QAA7C;AAEA,WACI,MAAC,MAAD;AAAQ,MAAA,YAAY,EAAE7B,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,SAAD,eAAeF,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,CADJ,CADJ;AAOH,GAVsB,EAUpB,CAACE,YAAD,EAAeH,SAAf,EAA0BC,SAA1B,CAVoB,CAAvB;AAYA,SACI,MAAC,YAAD;AAAc,IAAA,MAAM,EAAEI,MAAtB;AAA8B,IAAA,QAAQ,EAAEC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKwB,OADL,CADJ;AAKH;;GArEQ/B,M;UAEoBJ,mB,EACVE,S,EACEC,W,EACCF,Y,EACJN,Q;;;KANTS,M;AAuET,qBAAeL,OAAO,CAACuC,SAAR,CAAkBlC,MAAlB,CAAf","sourcesContent":["// react\nimport React, { ComponentType, useEffect, useMemo } from 'react';\n// third-party\nimport { AppProps } from 'next/app';\nimport { IntlProvider } from 'react-intl';\nimport { NextComponentType, NextPageContext } from 'next/dist/next-server/lib/utils';\nimport { useStore } from 'react-redux';\n// application\nimport Layout from '../components/Layout';\nimport { load, save, wrapper } from '../store/store';\nimport { useApplyClientState } from '../store/client';\nimport { useDirection, useLocale, useMessages } from '../store/locale/localeHooks';\n// styles\nimport '../scss/index.scss';\n\nexport type NeoAppProps = AppProps & {\n    Component: NextComponentType<NextPageContext, any> & {\n        Layout: ComponentType\n    }\n};\n\nfunction NeoApp({ Component, pageProps, router }: NeoAppProps) {\n    const headerLayout = 'compact';\n    const applyClientState = useApplyClientState();\n    const locale = useLocale();\n    const messages = useMessages();\n    const direction = useDirection();\n    const store = useStore();\n\n    // preloader\n    useEffect(() => {\n        const preloader = document.querySelector('.site-preloader');\n\n        if (!preloader) {\n            return;\n        }\n\n        setTimeout(() => {\n            const onTransitionEnd = (event: Event) => {\n                if (event instanceof TransitionEvent && event.propertyName === 'opacity' && preloader.parentNode) {\n                    preloader.parentNode.removeChild(preloader);\n                }\n            };\n\n            preloader.addEventListener('transitionend', onTransitionEnd);\n            preloader.classList.add('site-preloader__fade');\n\n            if (getComputedStyle(preloader).opacity === '0' && preloader.parentNode) {\n                preloader.parentNode.removeChild(preloader);\n            }\n        }, 100);\n    }, []);\n\n    // Loading and saving state on the client side (cart, wishlist, etc.).\n    useEffect(() => {\n        const state = load();\n\n        if (state) {\n            applyClientState(state);\n        }\n\n        if (process.browser) {\n            store.subscribe(() => {\n                save(store.getState());\n            });\n        }\n    }, [store]);\n\n    useEffect(() => {\n        document.documentElement.lang = locale;\n        document.documentElement.dir = direction;\n    }, [direction, locale]);\n\n    const content = useMemo(() => {\n        const PageLayout = Component.Layout || React.Fragment;\n\n        return (\n            <Layout headerLayout={headerLayout}>\n                <PageLayout>\n                    <Component {...pageProps} />\n                </PageLayout>\n            </Layout>\n        );\n    }, [headerLayout, Component, pageProps]);\n\n    return (\n        <IntlProvider locale={locale} messages={messages}>\n            {content}\n        </IntlProvider>\n    );\n}\n\nexport default wrapper.withRedux(NeoApp);\n"]},"metadata":{},"sourceType":"module"}