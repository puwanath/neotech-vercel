{"ast":null,"code":"// application\nimport { WISHLIST_ADD_ITEM, WISHLIST_REMOVE_ITEM } from './wishlistActionTypes';\nimport { withClientState } from '../client';\n\nfunction addItem(state, product) {\n  const itemIndex = state.items.findIndex(x => x.id === product.id);\n\n  if (itemIndex === -1) {\n    return {\n      items: [...state.items, JSON.parse(JSON.stringify(product))]\n    };\n  }\n\n  return state;\n}\n\nfunction removeItem(state, productId) {\n  return {\n    items: state.items.filter(x => x.id !== productId)\n  };\n}\n\nconst initialState = {\n  items: []\n};\nexport const WISHLIST_NAMESPACE = 'wishlist';\n\nfunction wishlistBaseReducer(state = initialState, action) {\n  switch (action.type) {\n    case WISHLIST_ADD_ITEM:\n      return addItem(state, action.product);\n\n    case WISHLIST_REMOVE_ITEM:\n      return removeItem(state, action.productId);\n\n    default:\n      return state;\n  }\n}\n\nconst wishlistReducer = withClientState(wishlistBaseReducer, WISHLIST_NAMESPACE);\nexport default wishlistReducer;","map":{"version":3,"sources":["D:/xampp/htdocs/neo.co.th/nextapp/src/store/wishlist/wishlistReducer.ts"],"names":["WISHLIST_ADD_ITEM","WISHLIST_REMOVE_ITEM","withClientState","addItem","state","product","itemIndex","items","findIndex","x","id","JSON","parse","stringify","removeItem","productId","filter","initialState","WISHLIST_NAMESPACE","wishlistBaseReducer","action","type","wishlistReducer"],"mappings":"AAAA;AAEA,SAASA,iBAAT,EAA4BC,oBAA5B,QAAwE,uBAAxE;AAEA,SAASC,eAAT,QAAgC,WAAhC;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAuCC,OAAvC,EAAyE;AACrE,QAAMC,SAAS,GAAGF,KAAK,CAACG,KAAN,CAAYC,SAAZ,CAAuBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASL,OAAO,CAACK,EAA9C,CAAlB;;AAEA,MAAIJ,SAAS,KAAK,CAAC,CAAnB,EAAsB;AAClB,WAAO;AACHC,MAAAA,KAAK,EAAE,CACH,GAAGH,KAAK,CAACG,KADN,EAEHI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeR,OAAf,CAAX,CAFG;AADJ,KAAP;AAMH;;AAED,SAAOD,KAAP;AACH;;AAED,SAASU,UAAT,CAAoBV,KAApB,EAA0CW,SAA1C,EAA4E;AACxE,SAAO;AACHR,IAAAA,KAAK,EAAEH,KAAK,CAACG,KAAN,CAAYS,MAAZ,CAAoBP,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASK,SAAnC;AADJ,GAAP;AAGH;;AAED,MAAME,YAA2B,GAAG;AAChCV,EAAAA,KAAK,EAAE;AADyB,CAApC;AAIA,OAAO,MAAMW,kBAAkB,GAAG,UAA3B;;AAEP,SAASC,mBAAT,CAA6Bf,KAAK,GAAGa,YAArC,EAAmDG,MAAnD,EAA2E;AACvE,UAAQA,MAAM,CAACC,IAAf;AACA,SAAKrB,iBAAL;AACI,aAAOG,OAAO,CAACC,KAAD,EAAQgB,MAAM,CAACf,OAAf,CAAd;;AAEJ,SAAKJ,oBAAL;AACI,aAAOa,UAAU,CAACV,KAAD,EAAQgB,MAAM,CAACL,SAAf,CAAjB;;AAEJ;AACI,aAAOX,KAAP;AARJ;AAUH;;AAED,MAAMkB,eAAe,GAAGpB,eAAe,CAACiB,mBAAD,EAAsBD,kBAAtB,CAAvC;AAEA,eAAeI,eAAf","sourcesContent":["// application\nimport { IProduct } from '../../interfaces/product';\nimport { WISHLIST_ADD_ITEM, WISHLIST_REMOVE_ITEM, WishlistAction } from './wishlistActionTypes';\nimport { WishlistState } from './wishlistTypes';\nimport { withClientState } from '../client';\n\nfunction addItem(state: WishlistState, product: IProduct): WishlistState {\n    const itemIndex = state.items.findIndex((x) => x.id === product.id);\n\n    if (itemIndex === -1) {\n        return {\n            items: [\n                ...state.items,\n                JSON.parse(JSON.stringify(product)),\n            ],\n        };\n    }\n\n    return state;\n}\n\nfunction removeItem(state: WishlistState, productId: number): WishlistState {\n    return {\n        items: state.items.filter((x) => x.id !== productId),\n    };\n}\n\nconst initialState: WishlistState = {\n    items: [],\n};\n\nexport const WISHLIST_NAMESPACE = 'wishlist';\n\nfunction wishlistBaseReducer(state = initialState, action: WishlistAction) {\n    switch (action.type) {\n    case WISHLIST_ADD_ITEM:\n        return addItem(state, action.product);\n\n    case WISHLIST_REMOVE_ITEM:\n        return removeItem(state, action.productId);\n\n    default:\n        return state;\n    }\n}\n\nconst wishlistReducer = withClientState(wishlistBaseReducer, WISHLIST_NAMESPACE);\n\nexport default wishlistReducer;\n"]},"metadata":{},"sourceType":"module"}