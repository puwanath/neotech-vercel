{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\neo.co.th\\\\nextapp\\\\src\\\\components\\\\shared\\\\ProductGallery.tsx\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// react\nimport React, { useCallback, useEffect, useRef, useState } from 'react'; // third-party\n\nimport classNames from 'classnames';\n// application\nimport AppLink from './AppLink';\nimport StroykaSlick from './StroykaSlick';\n\nvar ZoomIn24Svg = function ZoomIn24Svg(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M15 18c-2 0-3.8-.6-5.2-1.7-1 1.3-2.1 2.8-3.5 4.6-2.2 2.8-3.4 1.9-3.4 1.9s-.6-.3-1.1-.7c-.4-.4-.7-1-.7-1S.2 19.9 3 17.8c1.8-1.4 3.3-2.5 4.6-3.5C6.6 12.8 6 11 6 9c0-5 4-9 9-9s9 4 9 9-4 9-9 9zm0-16c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm1 11h-2v-3h-3V8h3V5h2v3h3v2h-3v3z\"\n  }));\n};\n\nZoomIn24Svg.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\"\n};\nimport { useDirection } from '../../store/locale/localeHooks';\nconst slickSettingsFeatured = {\n  dots: false,\n  arrows: false,\n  infinite: false,\n  speed: 400,\n  slidesToShow: 1,\n  slidesToScroll: 1\n};\nconst slickSettingsThumbnails = {\n  standard: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 5,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  },\n  sidebar: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 4,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  },\n  columnar: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 4,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  },\n  quickview: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 5,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  }\n};\n\nfunction ProductGallery(props) {\n  const {\n    layout,\n    images\n  } = props;\n  const direction = useDirection();\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    currentIndex: 0,\n    transition: false\n  });\n  const imagesRefs = useRef([]);\n  const slickFeaturedRef = useRef(null);\n  const createGalleryRef = useRef(null);\n  const galleryRef = useRef(null);\n  const getIndexDependOnDirRef = useRef(null);\n  const unmountedRef = useRef(false);\n  const getIndexDependOnDir = useCallback(index => {\n    // we need to invert index id direction === 'rtl' due to react-slick bug\n    return index;\n  }, [direction, images]);\n\n  const openPhotoswipe = index => {\n    if (!createGalleryRef.current) {\n      return;\n    }\n\n    const items = imagesRefs.current.map((tag, index) => {\n      if (!tag) {\n        throw Error('Image ref is null');\n      }\n\n      const width = (tag.dataset.width ? parseFloat(tag.dataset.width) : null) || tag.naturalWidth;\n      const height = (tag.dataset.height ? parseFloat(tag.dataset.height) : null) || tag.naturalHeight;\n      return {\n        src: images[index],\n        msrc: images[index],\n        w: width,\n        h: height\n      };\n    }); // noinspection JSUnusedGlobalSymbols\n\n    const options = {\n      getThumbBoundsFn: index => {\n        // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n        if (!getIndexDependOnDirRef.current) {\n          return {\n            x: 0,\n            y: 0,\n            w: 0\n          };\n        }\n\n        const dirDependentIndex = getIndexDependOnDirRef.current(index);\n        const tag = imagesRefs.current[dirDependentIndex];\n\n        if (!tag) {\n          return {\n            x: 0,\n            y: 0,\n            w: 0\n          };\n        }\n\n        const width = tag.naturalWidth;\n        const height = tag.naturalHeight;\n        const rect = tag.getBoundingClientRect();\n        const ration = Math.min(rect.width / width, rect.height / height);\n        const fitWidth = width * ration;\n        const fitHeight = height * ration;\n        return {\n          x: rect.left + (rect.width - fitWidth) / 2 + window.pageXOffset,\n          y: rect.top + (rect.height - fitHeight) / 2 + window.pageYOffset,\n          w: fitWidth\n        };\n      },\n      index: getIndexDependOnDir(index),\n      bgOpacity: 0.9,\n      history: false\n    };\n    createGalleryRef.current.then(createGallery => {\n      // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n      if (unmountedRef.current) {\n        return;\n      }\n\n      galleryRef.current = createGallery(items, options);\n      galleryRef.current.listen('beforeChange', () => {\n        if (galleryRef.current && slickFeaturedRef.current) {\n          slickFeaturedRef.current.slickGoTo(galleryRef.current.getCurrentIndex(), true);\n        }\n      });\n      galleryRef.current.listen('destroy', () => {\n        galleryRef.current = null;\n      });\n      galleryRef.current.init();\n    });\n  };\n\n  const handleFeaturedClick = (event, index) => {\n    if (!createGalleryRef.current || layout === 'quickview') {\n      return;\n    }\n\n    event.preventDefault();\n    openPhotoswipe(index);\n  };\n\n  const handleThumbnailClick = index => {\n    if (state.transition) {\n      return;\n    }\n\n    setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      currentIndex: index\n    }));\n\n    if (slickFeaturedRef.current) {\n      slickFeaturedRef.current.slickGoTo(getIndexDependOnDir(index));\n    }\n  };\n\n  const handleFeaturedBeforeChange = (oldIndex, newIndex) => {\n    setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      currentIndex: getIndexDependOnDir(newIndex),\n      transition: true\n    }));\n  };\n\n  const handleFeaturedAfterChange = index => {\n    setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n      currentIndex: getIndexDependOnDir(index),\n      transition: false\n    }));\n  };\n\n  const handleZoomButtonClick = () => {\n    openPhotoswipe(state.currentIndex);\n  }; // componentDidMount\n\n\n  useEffect(() => {\n    createGalleryRef.current = import('../../photoswipe').then(module => module.default);\n  }, []); // componentWillUnmount\n\n  useEffect(() => () => {\n    if (galleryRef.current) {\n      galleryRef.current.destroy();\n    }\n\n    unmountedRef.current = true;\n  }, []);\n  useEffect(() => {\n    // this is necessary to reset the transition state,\n    // because when the direction changes, the afterChange event does not fire\n    const timer = setTimeout(() => {\n      setState(prev => _objectSpread(_objectSpread({}, prev), {}, {\n        transition: false\n      }));\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [direction]);\n  useEffect(() => {\n    getIndexDependOnDirRef.current = getIndexDependOnDir;\n  }, [getIndexDependOnDir]);\n  const featured = images.map((image, index) => __jsx(\"div\", {\n    key: index,\n    className: \"product-image product-image--location--gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, __jsx(AppLink, {\n    href: `/${image}`,\n    className: \"product-image__body\",\n    target: \"_blank\",\n    onClick: event => handleFeaturedClick(event, index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    className: \"product-image__img\",\n    src: image,\n    alt: \"\",\n    ref: element => {\n      imagesRefs.current[index] = element;\n    },\n    \"data-width\": \"700\",\n    \"data-height\": \"700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }\n  }))));\n  const thumbnails = images.map((image, index) => {\n    const classes = classNames('product-gallery__carousel-item product-image', {\n      'product-gallery__carousel-item--active': index === state.currentIndex\n    });\n    return __jsx(\"button\", {\n      type: \"button\",\n      key: index,\n      onClick: () => handleThumbnailClick(index),\n      className: classes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"product-image__body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }\n    }, __jsx(\"img\", {\n      className: \"product-image__img product-gallery__carousel-image\",\n      src: image,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    })));\n  });\n  return __jsx(\"div\", {\n    className: \"product__gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"product-gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"product-gallery__featured\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 17\n    }\n  }, layout !== 'quickview' && __jsx(\"button\", {\n    type: \"button\",\n    className: \"product-gallery__zoom\",\n    onClick: handleZoomButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 25\n    }\n  }, __jsx(ZoomIn24Svg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 29\n    }\n  })), __jsx(StroykaSlick, _extends({\n    ref: slickFeaturedRef\n  }, slickSettingsFeatured, {\n    beforeChange: handleFeaturedBeforeChange,\n    afterChange: handleFeaturedAfterChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 21\n    }\n  }), featured)), __jsx(\"div\", {\n    className: \"product-gallery__carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 17\n    }\n  }, __jsx(StroykaSlick, _extends({}, slickSettingsThumbnails[layout], {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 21\n    }\n  }), thumbnails))));\n}\n\nexport default ProductGallery;","map":{"version":3,"sources":["D:/xampp/htdocs/neo.co.th/nextapp/src/components/shared/ProductGallery.tsx"],"names":["React","useCallback","useEffect","useRef","useState","classNames","AppLink","StroykaSlick","ZoomIn24Svg","useDirection","slickSettingsFeatured","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","slickSettingsThumbnails","standard","responsive","breakpoint","settings","sidebar","columnar","quickview","ProductGallery","props","layout","images","direction","state","setState","currentIndex","transition","imagesRefs","slickFeaturedRef","createGalleryRef","galleryRef","getIndexDependOnDirRef","unmountedRef","getIndexDependOnDir","index","openPhotoswipe","current","items","map","tag","Error","width","dataset","parseFloat","naturalWidth","height","naturalHeight","src","msrc","w","h","options","getThumbBoundsFn","x","y","dirDependentIndex","rect","getBoundingClientRect","ration","Math","min","fitWidth","fitHeight","left","window","pageXOffset","top","pageYOffset","bgOpacity","history","then","createGallery","listen","slickGoTo","getCurrentIndex","init","handleFeaturedClick","event","preventDefault","handleThumbnailClick","prev","handleFeaturedBeforeChange","oldIndex","newIndex","handleFeaturedAfterChange","handleZoomButtonClick","module","default","destroy","timer","setTimeout","clearTimeout","featured","image","element","thumbnails","classes"],"mappings":"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","sourcesContent":["// react\nimport React, {\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from 'react';\n\n// third-party\nimport classNames from 'classnames';\nimport PhotoSwipe from 'photoswipe';\nimport PhotoSwipeUIDefault from 'photoswipe/dist/photoswipe-ui-default';\nimport Slick from 'react-slick';\n\n// application\nimport AppLink from './AppLink';\nimport StroykaSlick, { SlickProps } from './StroykaSlick';\nimport ZoomIn24Svg from '../../svg/zoom-in-24.svg';\nimport { useDirection } from '../../store/locale/localeHooks';\n\nconst slickSettingsFeatured = {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n};\nconst slickSettingsThumbnails = {\n    standard: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 5,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 4 } },\n            { breakpoint: 991, settings: { slidesToShow: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n    sidebar: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 4,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n    columnar: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 4,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n    quickview: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 5,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 4 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n};\n\ntype CreateGalleryFn = (\n    images: PhotoSwipe.Item[],\n    options: PhotoSwipe.Options,\n) => PhotoSwipe<PhotoSwipeUIDefault.Options>;\n\nexport type ProductGalleryLayout = 'standard' | 'sidebar' | 'columnar' | 'quickview';\n\nexport interface ProductGalleryProps {\n    images: string[];\n    layout: ProductGalleryLayout;\n}\n\nfunction ProductGallery(props: ProductGalleryProps) {\n    const { layout, images } = props;\n    const direction = useDirection();\n    const [state, setState] = useState({ currentIndex: 0, transition: false });\n    const imagesRefs = useRef<Array<HTMLImageElement | null>>([]);\n    const slickFeaturedRef = useRef<Slick>(null);\n    const createGalleryRef = useRef<Promise<CreateGalleryFn> | null>(null);\n    const galleryRef = useRef<PhotoSwipe<PhotoSwipeUIDefault.Options> | null>(null);\n    const getIndexDependOnDirRef = useRef<((index: number) => number) | null>(null);\n    const unmountedRef = useRef(false);\n\n    const getIndexDependOnDir = useCallback((index: number) => {\n        // we need to invert index id direction === 'rtl' due to react-slick bug\n\n        return index;\n    }, [direction, images]);\n\n    const openPhotoswipe = (index: number) => {\n        if (!createGalleryRef.current) {\n            return;\n        }\n\n        const items = imagesRefs.current.map((tag, index) => {\n            if (!tag) {\n                throw Error('Image ref is null');\n            }\n\n            const width = (tag.dataset.width ? parseFloat(tag.dataset.width) : null) || tag.naturalWidth;\n            const height = (tag.dataset.height ? parseFloat(tag.dataset.height) : null) || tag.naturalHeight;\n\n            return {\n                src: images[index],\n                msrc: images[index],\n                w: width,\n                h: height,\n            };\n        });\n\n\n        // noinspection JSUnusedGlobalSymbols\n        const options: PhotoSwipe.Options = {\n            getThumbBoundsFn: (index) => {\n                // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n                if (!getIndexDependOnDirRef.current) {\n                    return { x: 0, y: 0, w: 0 };\n                }\n\n                const dirDependentIndex = getIndexDependOnDirRef.current(index);\n                const tag = imagesRefs.current[dirDependentIndex];\n\n                if (!tag) {\n                    return { x: 0, y: 0, w: 0 };\n                }\n\n                const width = tag.naturalWidth;\n                const height = tag.naturalHeight;\n                const rect = tag.getBoundingClientRect();\n                const ration = Math.min(rect.width / width, rect.height / height);\n                const fitWidth = width * ration;\n                const fitHeight = height * ration;\n\n                return {\n                    x: rect.left + (rect.width - fitWidth) / 2 + window.pageXOffset,\n                    y: rect.top + (rect.height - fitHeight) / 2 + window.pageYOffset,\n                    w: fitWidth,\n                };\n            },\n            index: getIndexDependOnDir(index),\n            bgOpacity: 0.9,\n            history: false,\n        };\n\n        createGalleryRef.current.then((createGallery) => {\n            // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n\n            if (unmountedRef.current) {\n                return;\n            }\n\n            galleryRef.current = createGallery(items, options);\n            galleryRef.current.listen('beforeChange', () => {\n                if (galleryRef.current && slickFeaturedRef.current) {\n                    slickFeaturedRef.current.slickGoTo(\n                        galleryRef.current.getCurrentIndex(),\n                        true,\n                    );\n                }\n            });\n            galleryRef.current.listen('destroy', () => {\n                galleryRef.current = null;\n            });\n\n            galleryRef.current.init();\n        });\n    };\n\n    const handleFeaturedClick = (event: React.MouseEvent, index: number) => {\n        if (!createGalleryRef.current || layout === 'quickview') {\n            return;\n        }\n\n        event.preventDefault();\n\n        openPhotoswipe(index);\n    };\n\n    const handleThumbnailClick = (index: number) => {\n        if (state.transition) {\n            return;\n        }\n\n        setState((prev) => ({ ...prev, currentIndex: index }));\n\n        if (slickFeaturedRef.current) {\n            slickFeaturedRef.current.slickGoTo(getIndexDependOnDir(index));\n        }\n    };\n\n    const handleFeaturedBeforeChange: SlickProps['beforeChange'] = (oldIndex, newIndex) => {\n        setState((prev) => ({\n            ...prev,\n            currentIndex: getIndexDependOnDir(newIndex),\n            transition: true,\n        }));\n    };\n\n    const handleFeaturedAfterChange: SlickProps['afterChange'] = (index) => {\n        setState((prev) => ({\n            ...prev,\n            currentIndex: getIndexDependOnDir(index),\n            transition: false,\n        }));\n    };\n\n    const handleZoomButtonClick = () => {\n        openPhotoswipe(state.currentIndex);\n    };\n\n    // componentDidMount\n    useEffect(() => {\n        createGalleryRef.current = import('../../photoswipe').then((module) => module.default);\n    }, []);\n\n    // componentWillUnmount\n    useEffect(() => () => {\n        if (galleryRef.current) {\n            galleryRef.current.destroy();\n        }\n\n        unmountedRef.current = true;\n    }, []);\n\n    useEffect(() => {\n        // this is necessary to reset the transition state,\n        // because when the direction changes, the afterChange event does not fire\n        const timer = setTimeout(() => {\n            setState((prev) => ({ ...prev, transition: false }));\n        }, 0);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [direction]);\n\n    useEffect(() => {\n        getIndexDependOnDirRef.current = getIndexDependOnDir;\n    }, [getIndexDependOnDir]);\n\n    const featured = images.map((image, index) => (\n        <div key={index} className=\"product-image product-image--location--gallery\">\n            <AppLink\n                href={`/${image}`}\n                className=\"product-image__body\"\n                target=\"_blank\"\n                onClick={(event: React.MouseEvent) => handleFeaturedClick(event, index)}\n            >\n                {/*\n                    The data-width and data-height attributes must contain the size of a larger\n                    version of the product image.\n\n                    If you do not know the image size, you can remove the data-width and data-height\n                    attribute, in which case the width and height will be obtained from the\n                    naturalWidth and naturalHeight property of img.product-image__img.\n                    */}\n                <img\n                    className=\"product-image__img\"\n                    src={image}\n                    alt=\"\"\n                    ref={(element) => { imagesRefs.current[index] = element; }}\n                    data-width=\"700\"\n                    data-height=\"700\"\n                />\n            </AppLink>\n        </div>\n    ));\n\n    const thumbnails = images.map((image, index) => {\n        const classes = classNames('product-gallery__carousel-item product-image', {\n            'product-gallery__carousel-item--active': index === state.currentIndex,\n        });\n\n        return (\n            <button\n                type=\"button\"\n                key={index}\n                onClick={() => handleThumbnailClick(index)}\n                className={classes}\n            >\n                <div className=\"product-image__body\">\n                    <img className=\"product-image__img product-gallery__carousel-image\" src={image} alt=\"\" />\n                </div>\n            </button>\n        );\n    });\n\n    return (\n        <div className=\"product__gallery\">\n            <div className=\"product-gallery\">\n                <div className=\"product-gallery__featured\">\n                    {layout !== 'quickview' && (\n                        <button type=\"button\" className=\"product-gallery__zoom\" onClick={handleZoomButtonClick}>\n                            <ZoomIn24Svg />\n                        </button>\n                    )}\n                    <StroykaSlick\n                        ref={slickFeaturedRef}\n                        {...slickSettingsFeatured}\n                        beforeChange={handleFeaturedBeforeChange}\n                        afterChange={handleFeaturedAfterChange}\n                    >\n                        {featured}\n                    </StroykaSlick>\n                </div>\n                <div className=\"product-gallery__carousel\">\n                    <StroykaSlick {...slickSettingsThumbnails[layout]}>\n                        {thumbnails}\n                    </StroykaSlick>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProductGallery;\n"]},"metadata":{},"sourceType":"module"}