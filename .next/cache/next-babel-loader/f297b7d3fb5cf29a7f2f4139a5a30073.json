{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\neo.co.th\\\\nextapp\\\\src\\\\components\\\\header\\\\Dropdown.tsx\";\nvar __jsx = React.createElement;\n// react\nimport React, { useEffect, useRef, useState } from 'react'; // third-party\n\nimport classNames from 'classnames'; // application\n\nvar ArrowRoundedDown7x5Svg = function ArrowRoundedDown7x5Svg(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M.3.3c.4-.4 1-.4 1.3 0l1.9 2 1.9-2c.4-.4 1-.4 1.3 0 .4.4.4.9 0 1.3L3.5 5 .3 1.6C-.1 1.2-.1.6.3.3z\"\n  }));\n};\n\nArrowRoundedDown7x5Svg.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"7\",\n  height: \"5\"\n};\nimport Menu from './Menu';\n\nfunction Dropdown(props) {\n  const {\n    title,\n    items,\n    withIcons = false,\n    onClick\n  } = props;\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const wrapperRef = useRef(null);\n\n  const handleButtonClick = () => {\n    setOpen(prev => !prev);\n  };\n\n  const handleItemClick = item => {\n    setOpen(false);\n\n    if (onClick) {\n      onClick(item);\n    }\n  };\n\n  useEffect(() => {\n    const handleOutsideClick = event => {\n      if (wrapperRef.current && !wrapperRef.current.contains(event.target)) {\n        setOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleOutsideClick);\n    return () => document.removeEventListener('mousedown', handleOutsideClick);\n  }, [wrapperRef, setOpen]);\n  const classes = classNames('topbar-dropdown', {\n    'topbar-dropdown--opened': open\n  });\n  return __jsx(\"div\", {\n    className: classes,\n    ref: wrapperRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: \"topbar-dropdown__btn\",\n    type: \"button\",\n    onClick: handleButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, title, __jsx(ArrowRoundedDown7x5Svg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: \"topbar-dropdown__body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, __jsx(Menu, {\n    layout: \"topbar\",\n    withIcons: withIcons,\n    items: items,\n    onClick: handleItemClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Dropdown;","map":{"version":3,"sources":["D:/xampp/htdocs/neo.co.th/nextapp/src/components/header/Dropdown.tsx"],"names":["React","useEffect","useRef","useState","classNames","ArrowRoundedDown7x5Svg","Menu","Dropdown","props","title","items","withIcons","onClick","open","setOpen","wrapperRef","handleButtonClick","prev","handleItemClick","item","handleOutsideClick","event","current","contains","target","document","addEventListener","removeEventListener","classes"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD,C,CAEA;;AACA,OAAOC,UAAP,MAAuB,YAAvB,C,CAEA;;IACOC,sB,YAAAA,sB;;;;;;AAAAA,sB;;;;;AACP,OAAOC,IAAP,MAAiB,QAAjB;;AAUA,SAASC,QAAT,CAAuCC,KAAvC,EAAgE;AAC5D,QAAM;AACFC,IAAAA,KADE;AAEFC,IAAAA,KAFE;AAGFC,IAAAA,SAAS,GAAG,KAHV;AAIFC,IAAAA;AAJE,MAKFJ,KALJ;AAMA,QAAM;AAAA,OAACK,IAAD;AAAA,OAAOC;AAAP,MAAkBX,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAMY,UAAU,GAAGb,MAAM,CAAiB,IAAjB,CAAzB;;AAEA,QAAMc,iBAAiB,GAAG,MAAM;AAC5BF,IAAAA,OAAO,CAAEG,IAAD,IAAU,CAACA,IAAZ,CAAP;AACH,GAFD;;AAIA,QAAMC,eAAe,GAAIC,IAAD,IAAa;AACjCL,IAAAA,OAAO,CAAC,KAAD,CAAP;;AAEA,QAAIF,OAAJ,EAAa;AACTA,MAAAA,OAAO,CAACO,IAAD,CAAP;AACH;AACJ,GAND;;AAQAlB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMmB,kBAAkB,GAAIC,KAAD,IAAuB;AAC9C,UAAIN,UAAU,CAACO,OAAX,IAAsB,CAACP,UAAU,CAACO,OAAX,CAAmBC,QAAnB,CAA4BF,KAAK,CAACG,MAAlC,CAA3B,EAAqF;AACjFV,QAAAA,OAAO,CAAC,KAAD,CAAP;AACH;AACJ,KAJD;;AAMAW,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCN,kBAAvC;AAEA,WAAO,MAAMK,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CP,kBAA1C,CAAb;AACH,GAVQ,EAUN,CAACL,UAAD,EAAaD,OAAb,CAVM,CAAT;AAYA,QAAMc,OAAO,GAAGxB,UAAU,CAAC,iBAAD,EAAoB;AAC1C,+BAA2BS;AADe,GAApB,CAA1B;AAIA,SACI;AAAK,IAAA,SAAS,EAAEe,OAAhB;AAAyB,IAAA,GAAG,EAAEb,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,SAAS,EAAC,sBAAlB;AAAyC,IAAA,IAAI,EAAC,QAA9C;AAAuD,IAAA,OAAO,EAAEC,iBAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKP,KADL,EAEI,MAAC,sBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,EAMI;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,IAAD;AACI,IAAA,MAAM,EAAC,QADX;AAEI,IAAA,SAAS,EAAEE,SAFf;AAGI,IAAA,KAAK,EAAED,KAHX;AAII,IAAA,OAAO,EAAEQ,eAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CANJ,CADJ;AAiBH;;AAED,eAAeX,QAAf","sourcesContent":["// react\nimport React, { useEffect, useRef, useState } from 'react';\n\n// third-party\nimport classNames from 'classnames';\n\n// application\nimport ArrowRoundedDown7x5Svg from '../../svg/arrow-rounded-down-7x5.svg';\nimport Menu from './Menu';\nimport { IMenuItem } from '../../interfaces/menus/menu';\n\nexport interface DropdownProps<T extends IMenuItem> {\n    title: React.ReactNode;\n    items: T[];\n    withIcons?: boolean;\n    onClick?: (item: T) => void;\n}\n\nfunction Dropdown<T extends IMenuItem>(props: DropdownProps<T>) {\n    const {\n        title,\n        items,\n        withIcons = false,\n        onClick,\n    } = props;\n    const [open, setOpen] = useState(false);\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const handleButtonClick = () => {\n        setOpen((prev) => !prev);\n    };\n\n    const handleItemClick = (item: T) => {\n        setOpen(false);\n\n        if (onClick) {\n            onClick(item);\n        }\n    };\n\n    useEffect(() => {\n        const handleOutsideClick = (event: MouseEvent) => {\n            if (wrapperRef.current && !wrapperRef.current.contains(event.target as HTMLElement)) {\n                setOpen(false);\n            }\n        };\n\n        document.addEventListener('mousedown', handleOutsideClick);\n\n        return () => document.removeEventListener('mousedown', handleOutsideClick);\n    }, [wrapperRef, setOpen]);\n\n    const classes = classNames('topbar-dropdown', {\n        'topbar-dropdown--opened': open,\n    });\n\n    return (\n        <div className={classes} ref={wrapperRef}>\n            <button className=\"topbar-dropdown__btn\" type=\"button\" onClick={handleButtonClick}>\n                {title}\n                <ArrowRoundedDown7x5Svg />\n            </button>\n\n            <div className=\"topbar-dropdown__body\">\n                <Menu\n                    layout=\"topbar\"\n                    withIcons={withIcons}\n                    items={items}\n                    onClick={handleItemClick}\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default Dropdown;\n"]},"metadata":{},"sourceType":"module"}