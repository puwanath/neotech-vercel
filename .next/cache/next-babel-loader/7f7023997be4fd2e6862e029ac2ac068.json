{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\neo.co.th\\\\nextapp\\\\src\\\\components\\\\shared\\\\ProductGallery.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// react\nimport React, { useCallback, useEffect, useRef, useState } from 'react'; // third-party\n\nimport classNames from 'classnames';\n// application\nimport AppLink from './AppLink';\nimport StroykaSlick from './StroykaSlick';\n\nvar ZoomIn24Svg = function ZoomIn24Svg(props) {\n  return __jsx(\"svg\", props, __jsx(\"path\", {\n    d: \"M15 18c-2 0-3.8-.6-5.2-1.7-1 1.3-2.1 2.8-3.5 4.6-2.2 2.8-3.4 1.9-3.4 1.9s-.6-.3-1.1-.7c-.4-.4-.7-1-.7-1S.2 19.9 3 17.8c1.8-1.4 3.3-2.5 4.6-3.5C6.6 12.8 6 11 6 9c0-5 4-9 9-9s9 4 9 9-4 9-9 9zm0-16c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm1 11h-2v-3h-3V8h3V5h2v3h3v2h-3v3z\"\n  }));\n};\n\n_c2 = ZoomIn24Svg;\nZoomIn24Svg.defaultProps = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\"\n};\nimport { useDirection } from '../../store/locale/localeHooks';\nvar slickSettingsFeatured = {\n  dots: false,\n  arrows: false,\n  infinite: false,\n  speed: 400,\n  slidesToShow: 1,\n  slidesToScroll: 1\n};\nvar slickSettingsThumbnails = {\n  standard: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 5,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 991,\n      settings: {\n        slidesToShow: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  },\n  sidebar: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 4,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  },\n  columnar: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 4,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 3\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  },\n  quickview: {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 5,\n    slidesToScroll: 1,\n    responsive: [{\n      breakpoint: 1199,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 767,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 479,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 379,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  }\n};\n\nfunction ProductGallery(props) {\n  _s();\n\n  var _this = this;\n\n  var layout = props.layout,\n      images = props.images;\n  var direction = useDirection();\n\n  var _useState = useState({\n    currentIndex: 0,\n    transition: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var imagesRefs = useRef([]);\n  var slickFeaturedRef = useRef(null);\n  var createGalleryRef = useRef(null);\n  var galleryRef = useRef(null);\n  var getIndexDependOnDirRef = useRef(null);\n  var unmountedRef = useRef(false);\n  var getIndexDependOnDir = useCallback(function (index) {\n    // we need to invert index id direction === 'rtl' due to react-slick bug\n    return index;\n  }, [direction, images]);\n\n  var openPhotoswipe = function openPhotoswipe(index) {\n    if (!createGalleryRef.current) {\n      return;\n    }\n\n    var items = imagesRefs.current.map(function (tag, index) {\n      if (!tag) {\n        throw Error('Image ref is null');\n      }\n\n      var width = (tag.dataset.width ? parseFloat(tag.dataset.width) : null) || tag.naturalWidth;\n      var height = (tag.dataset.height ? parseFloat(tag.dataset.height) : null) || tag.naturalHeight;\n      return {\n        src: images[index],\n        msrc: images[index],\n        w: width,\n        h: height\n      };\n    }); // noinspection JSUnusedGlobalSymbols\n\n    var options = {\n      getThumbBoundsFn: function getThumbBoundsFn(index) {\n        // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n        if (!getIndexDependOnDirRef.current) {\n          return {\n            x: 0,\n            y: 0,\n            w: 0\n          };\n        }\n\n        var dirDependentIndex = getIndexDependOnDirRef.current(index);\n        var tag = imagesRefs.current[dirDependentIndex];\n\n        if (!tag) {\n          return {\n            x: 0,\n            y: 0,\n            w: 0\n          };\n        }\n\n        var width = tag.naturalWidth;\n        var height = tag.naturalHeight;\n        var rect = tag.getBoundingClientRect();\n        var ration = Math.min(rect.width / width, rect.height / height);\n        var fitWidth = width * ration;\n        var fitHeight = height * ration;\n        return {\n          x: rect.left + (rect.width - fitWidth) / 2 + window.pageXOffset,\n          y: rect.top + (rect.height - fitHeight) / 2 + window.pageYOffset,\n          w: fitWidth\n        };\n      },\n      index: getIndexDependOnDir(index),\n      bgOpacity: 0.9,\n      history: false\n    };\n    createGalleryRef.current.then(function (createGallery) {\n      // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n      if (unmountedRef.current) {\n        return;\n      }\n\n      galleryRef.current = createGallery(items, options);\n      galleryRef.current.listen('beforeChange', function () {\n        if (galleryRef.current && slickFeaturedRef.current) {\n          slickFeaturedRef.current.slickGoTo(galleryRef.current.getCurrentIndex(), true);\n        }\n      });\n      galleryRef.current.listen('destroy', function () {\n        galleryRef.current = null;\n      });\n      galleryRef.current.init();\n    });\n  };\n\n  var handleFeaturedClick = function handleFeaturedClick(event, index) {\n    if (!createGalleryRef.current || layout === 'quickview') {\n      return;\n    }\n\n    event.preventDefault();\n    openPhotoswipe(index);\n  };\n\n  var handleThumbnailClick = function handleThumbnailClick(index) {\n    if (state.transition) {\n      return;\n    }\n\n    setState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        currentIndex: index\n      });\n    });\n\n    if (slickFeaturedRef.current) {\n      slickFeaturedRef.current.slickGoTo(getIndexDependOnDir(index));\n    }\n  };\n\n  var handleFeaturedBeforeChange = function handleFeaturedBeforeChange(oldIndex, newIndex) {\n    setState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        currentIndex: getIndexDependOnDir(newIndex),\n        transition: true\n      });\n    });\n  };\n\n  var handleFeaturedAfterChange = function handleFeaturedAfterChange(index) {\n    setState(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, {\n        currentIndex: getIndexDependOnDir(index),\n        transition: false\n      });\n    });\n  };\n\n  var handleZoomButtonClick = function handleZoomButtonClick() {\n    openPhotoswipe(state.currentIndex);\n  }; // componentDidMount\n\n\n  useEffect(function () {\n    createGalleryRef.current = import('../../photoswipe').then(function (module) {\n      return module[\"default\"];\n    });\n  }, []); // componentWillUnmount\n\n  useEffect(function () {\n    return function () {\n      if (galleryRef.current) {\n        galleryRef.current.destroy();\n      }\n\n      unmountedRef.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    // this is necessary to reset the transition state,\n    // because when the direction changes, the afterChange event does not fire\n    var timer = setTimeout(function () {\n      setState(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          transition: false\n        });\n      });\n    }, 0);\n    return function () {\n      clearTimeout(timer);\n    };\n  }, [direction]);\n  useEffect(function () {\n    getIndexDependOnDirRef.current = getIndexDependOnDir;\n  }, [getIndexDependOnDir]);\n  var featured = images.map(function (image, index) {\n    return __jsx(\"div\", {\n      key: index,\n      className: \"product-image product-image--location--gallery\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }\n    }, __jsx(AppLink, {\n      href: \"/\".concat(image),\n      className: \"product-image__body\",\n      target: \"_blank\",\n      onClick: function onClick(event) {\n        return handleFeaturedClick(event, index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      className: \"product-image__img\",\n      src: image,\n      alt: \"\",\n      ref: function ref(element) {\n        imagesRefs.current[index] = element;\n      },\n      \"data-width\": \"700\",\n      \"data-height\": \"700\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    })));\n  });\n  var thumbnails = images.map(function (image, index) {\n    var classes = classNames('product-gallery__carousel-item product-image', {\n      'product-gallery__carousel-item--active': index === state.currentIndex\n    });\n    return __jsx(\"button\", {\n      type: \"button\",\n      key: index,\n      onClick: function onClick() {\n        return handleThumbnailClick(index);\n      },\n      className: classes,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"product-image__body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }\n    }, __jsx(\"img\", {\n      className: \"product-image__img product-gallery__carousel-image\",\n      src: image,\n      alt: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 21\n      }\n    })));\n  });\n  return __jsx(\"div\", {\n    className: \"product__gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"product-gallery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"product-gallery__featured\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 17\n    }\n  }, layout !== 'quickview' && __jsx(\"button\", {\n    type: \"button\",\n    className: \"product-gallery__zoom\",\n    onClick: handleZoomButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 25\n    }\n  }, __jsx(ZoomIn24Svg, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 29\n    }\n  })), __jsx(StroykaSlick, _extends({\n    ref: slickFeaturedRef\n  }, slickSettingsFeatured, {\n    beforeChange: handleFeaturedBeforeChange,\n    afterChange: handleFeaturedAfterChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 21\n    }\n  }), featured)), __jsx(\"div\", {\n    className: \"product-gallery__carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 17\n    }\n  }, __jsx(StroykaSlick, _extends({}, slickSettingsThumbnails[layout], {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 21\n    }\n  }), thumbnails))));\n}\n\n_s(ProductGallery, \"SIr/KYpjktClluC8So3ojh9AUZ4=\", false, function () {\n  return [useDirection];\n});\n\n_c = ProductGallery;\nexport default ProductGallery;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProductGallery\");\n$RefreshReg$(_c2, \"ZoomIn24Svg\");","map":{"version":3,"sources":["D:/xampp/htdocs/neo.co.th/nextapp/src/components/shared/ProductGallery.tsx"],"names":["React","useCallback","useEffect","useRef","useState","classNames","AppLink","StroykaSlick","ZoomIn24Svg","useDirection","slickSettingsFeatured","dots","arrows","infinite","speed","slidesToShow","slidesToScroll","slickSettingsThumbnails","standard","responsive","breakpoint","settings","sidebar","columnar","quickview","ProductGallery","props","layout","images","direction","currentIndex","transition","state","setState","imagesRefs","slickFeaturedRef","createGalleryRef","galleryRef","getIndexDependOnDirRef","unmountedRef","getIndexDependOnDir","index","openPhotoswipe","current","items","map","tag","Error","width","dataset","parseFloat","naturalWidth","height","naturalHeight","src","msrc","w","h","options","getThumbBoundsFn","x","y","dirDependentIndex","rect","getBoundingClientRect","ration","Math","min","fitWidth","fitHeight","left","window","pageXOffset","top","pageYOffset","bgOpacity","history","then","createGallery","listen","slickGoTo","getCurrentIndex","init","handleFeaturedClick","event","preventDefault","handleThumbnailClick","prev","handleFeaturedBeforeChange","oldIndex","newIndex","handleFeaturedAfterChange","handleZoomButtonClick","module","destroy","timer","setTimeout","clearTimeout","featured","image","element","thumbnails","classes"],"mappings":"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","sourcesContent":["// react\nimport React, {\n    useCallback,\n    useEffect,\n    useRef,\n    useState,\n} from 'react';\n\n// third-party\nimport classNames from 'classnames';\nimport PhotoSwipe from 'photoswipe';\nimport PhotoSwipeUIDefault from 'photoswipe/dist/photoswipe-ui-default';\nimport Slick from 'react-slick';\n\n// application\nimport AppLink from './AppLink';\nimport StroykaSlick, { SlickProps } from './StroykaSlick';\nimport ZoomIn24Svg from '../../svg/zoom-in-24.svg';\nimport { useDirection } from '../../store/locale/localeHooks';\n\nconst slickSettingsFeatured = {\n    dots: false,\n    arrows: false,\n    infinite: false,\n    speed: 400,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n};\nconst slickSettingsThumbnails = {\n    standard: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 5,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 4 } },\n            { breakpoint: 991, settings: { slidesToShow: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n    sidebar: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 4,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n    columnar: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 4,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 3 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n    quickview: {\n        dots: false,\n        arrows: false,\n        infinite: false,\n        speed: 400,\n        slidesToShow: 5,\n        slidesToScroll: 1,\n        responsive: [\n            { breakpoint: 1199, settings: { slidesToShow: 4 } },\n            { breakpoint: 767, settings: { slidesToShow: 5 } },\n            { breakpoint: 479, settings: { slidesToShow: 4 } },\n            { breakpoint: 379, settings: { slidesToShow: 3 } },\n        ],\n    },\n};\n\ntype CreateGalleryFn = (\n    images: PhotoSwipe.Item[],\n    options: PhotoSwipe.Options,\n) => PhotoSwipe<PhotoSwipeUIDefault.Options>;\n\nexport type ProductGalleryLayout = 'standard' | 'sidebar' | 'columnar' | 'quickview';\n\nexport interface ProductGalleryProps {\n    images: string[];\n    layout: ProductGalleryLayout;\n}\n\nfunction ProductGallery(props: ProductGalleryProps) {\n    const { layout, images } = props;\n    const direction = useDirection();\n    const [state, setState] = useState({ currentIndex: 0, transition: false });\n    const imagesRefs = useRef<Array<HTMLImageElement | null>>([]);\n    const slickFeaturedRef = useRef<Slick>(null);\n    const createGalleryRef = useRef<Promise<CreateGalleryFn> | null>(null);\n    const galleryRef = useRef<PhotoSwipe<PhotoSwipeUIDefault.Options> | null>(null);\n    const getIndexDependOnDirRef = useRef<((index: number) => number) | null>(null);\n    const unmountedRef = useRef(false);\n\n    const getIndexDependOnDir = useCallback((index: number) => {\n        // we need to invert index id direction === 'rtl' due to react-slick bug\n\n        return index;\n    }, [direction, images]);\n\n    const openPhotoswipe = (index: number) => {\n        if (!createGalleryRef.current) {\n            return;\n        }\n\n        const items = imagesRefs.current.map((tag, index) => {\n            if (!tag) {\n                throw Error('Image ref is null');\n            }\n\n            const width = (tag.dataset.width ? parseFloat(tag.dataset.width) : null) || tag.naturalWidth;\n            const height = (tag.dataset.height ? parseFloat(tag.dataset.height) : null) || tag.naturalHeight;\n\n            return {\n                src: images[index],\n                msrc: images[index],\n                w: width,\n                h: height,\n            };\n        });\n\n\n        // noinspection JSUnusedGlobalSymbols\n        const options: PhotoSwipe.Options = {\n            getThumbBoundsFn: (index) => {\n                // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n                if (!getIndexDependOnDirRef.current) {\n                    return { x: 0, y: 0, w: 0 };\n                }\n\n                const dirDependentIndex = getIndexDependOnDirRef.current(index);\n                const tag = imagesRefs.current[dirDependentIndex];\n\n                if (!tag) {\n                    return { x: 0, y: 0, w: 0 };\n                }\n\n                const width = tag.naturalWidth;\n                const height = tag.naturalHeight;\n                const rect = tag.getBoundingClientRect();\n                const ration = Math.min(rect.width / width, rect.height / height);\n                const fitWidth = width * ration;\n                const fitHeight = height * ration;\n\n                return {\n                    x: rect.left + (rect.width - fitWidth) / 2 + window.pageXOffset,\n                    y: rect.top + (rect.height - fitHeight) / 2 + window.pageYOffset,\n                    w: fitWidth,\n                };\n            },\n            index: getIndexDependOnDir(index),\n            bgOpacity: 0.9,\n            history: false,\n        };\n\n        createGalleryRef.current.then((createGallery) => {\n            // IMPORTANT: Inside this function, we can use variables and functions only through ref.\n\n            if (unmountedRef.current) {\n                return;\n            }\n\n            galleryRef.current = createGallery(items, options);\n            galleryRef.current.listen('beforeChange', () => {\n                if (galleryRef.current && slickFeaturedRef.current) {\n                    slickFeaturedRef.current.slickGoTo(\n                        galleryRef.current.getCurrentIndex(),\n                        true,\n                    );\n                }\n            });\n            galleryRef.current.listen('destroy', () => {\n                galleryRef.current = null;\n            });\n\n            galleryRef.current.init();\n        });\n    };\n\n    const handleFeaturedClick = (event: React.MouseEvent, index: number) => {\n        if (!createGalleryRef.current || layout === 'quickview') {\n            return;\n        }\n\n        event.preventDefault();\n\n        openPhotoswipe(index);\n    };\n\n    const handleThumbnailClick = (index: number) => {\n        if (state.transition) {\n            return;\n        }\n\n        setState((prev) => ({ ...prev, currentIndex: index }));\n\n        if (slickFeaturedRef.current) {\n            slickFeaturedRef.current.slickGoTo(getIndexDependOnDir(index));\n        }\n    };\n\n    const handleFeaturedBeforeChange: SlickProps['beforeChange'] = (oldIndex, newIndex) => {\n        setState((prev) => ({\n            ...prev,\n            currentIndex: getIndexDependOnDir(newIndex),\n            transition: true,\n        }));\n    };\n\n    const handleFeaturedAfterChange: SlickProps['afterChange'] = (index) => {\n        setState((prev) => ({\n            ...prev,\n            currentIndex: getIndexDependOnDir(index),\n            transition: false,\n        }));\n    };\n\n    const handleZoomButtonClick = () => {\n        openPhotoswipe(state.currentIndex);\n    };\n\n    // componentDidMount\n    useEffect(() => {\n        createGalleryRef.current = import('../../photoswipe').then((module) => module.default);\n    }, []);\n\n    // componentWillUnmount\n    useEffect(() => () => {\n        if (galleryRef.current) {\n            galleryRef.current.destroy();\n        }\n\n        unmountedRef.current = true;\n    }, []);\n\n    useEffect(() => {\n        // this is necessary to reset the transition state,\n        // because when the direction changes, the afterChange event does not fire\n        const timer = setTimeout(() => {\n            setState((prev) => ({ ...prev, transition: false }));\n        }, 0);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [direction]);\n\n    useEffect(() => {\n        getIndexDependOnDirRef.current = getIndexDependOnDir;\n    }, [getIndexDependOnDir]);\n\n    const featured = images.map((image, index) => (\n        <div key={index} className=\"product-image product-image--location--gallery\">\n            <AppLink\n                href={`/${image}`}\n                className=\"product-image__body\"\n                target=\"_blank\"\n                onClick={(event: React.MouseEvent) => handleFeaturedClick(event, index)}\n            >\n                {/*\n                    The data-width and data-height attributes must contain the size of a larger\n                    version of the product image.\n\n                    If you do not know the image size, you can remove the data-width and data-height\n                    attribute, in which case the width and height will be obtained from the\n                    naturalWidth and naturalHeight property of img.product-image__img.\n                    */}\n                <img\n                    className=\"product-image__img\"\n                    src={image}\n                    alt=\"\"\n                    ref={(element) => { imagesRefs.current[index] = element; }}\n                    data-width=\"700\"\n                    data-height=\"700\"\n                />\n            </AppLink>\n        </div>\n    ));\n\n    const thumbnails = images.map((image, index) => {\n        const classes = classNames('product-gallery__carousel-item product-image', {\n            'product-gallery__carousel-item--active': index === state.currentIndex,\n        });\n\n        return (\n            <button\n                type=\"button\"\n                key={index}\n                onClick={() => handleThumbnailClick(index)}\n                className={classes}\n            >\n                <div className=\"product-image__body\">\n                    <img className=\"product-image__img product-gallery__carousel-image\" src={image} alt=\"\" />\n                </div>\n            </button>\n        );\n    });\n\n    return (\n        <div className=\"product__gallery\">\n            <div className=\"product-gallery\">\n                <div className=\"product-gallery__featured\">\n                    {layout !== 'quickview' && (\n                        <button type=\"button\" className=\"product-gallery__zoom\" onClick={handleZoomButtonClick}>\n                            <ZoomIn24Svg />\n                        </button>\n                    )}\n                    <StroykaSlick\n                        ref={slickFeaturedRef}\n                        {...slickSettingsFeatured}\n                        beforeChange={handleFeaturedBeforeChange}\n                        afterChange={handleFeaturedAfterChange}\n                    >\n                        {featured}\n                    </StroykaSlick>\n                </div>\n                <div className=\"product-gallery__carousel\">\n                    <StroykaSlick {...slickSettingsThumbnails[layout]}>\n                        {thumbnails}\n                    </StroykaSlick>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProductGallery;\n"]},"metadata":{},"sourceType":"module"}