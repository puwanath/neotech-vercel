{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// application\nimport { SHOP_NAMESPACE } from './shopTypes';\nimport { SHOP_FETCH_CATEGORY_SUCCESS, SHOP_FETCH_PRODUCTS_LIST_START, SHOP_FETCH_PRODUCTS_LIST_SUCCESS, SHOP_HYDRATE, SHOP_INIT, SHOP_RESET_FILTERS, SHOP_SET_FILTER_VALUE, SHOP_SET_OPTION_VALUE } from './shopActionTypes';\nconst initialState = {\n  init: false,\n  categorySlug: null,\n  categoryIsLoading: true,\n  category: null,\n  productsListIsLoading: true,\n  productsList: null,\n  options: {},\n  filters: {}\n};\n\nfunction shopReducerSetFilterValue(state, action) {\n  const currentFilters = _objectSpread({}, state.filters);\n\n  let filters;\n\n  if (action.value !== null) {\n    filters = _objectSpread(_objectSpread({}, currentFilters), {}, {\n      [action.filter]: action.value\n    });\n  } else {\n    delete currentFilters[action.filter];\n    filters = _objectSpread({}, currentFilters);\n  }\n\n  return _objectSpread(_objectSpread({}, state), {}, {\n    options: _objectSpread(_objectSpread({}, state.options), {}, {\n      page: 1\n    }),\n    filters\n  });\n}\n\nfunction shopReducer(state = initialState, action) {\n  switch (action.type) {\n    case SHOP_HYDRATE:\n      return action.payload[SHOP_NAMESPACE];\n\n    case SHOP_INIT:\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        categorySlug: action.categorySlug,\n        options: action.options,\n        filters: action.filters\n      });\n\n    case SHOP_FETCH_CATEGORY_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        init: true,\n        categoryIsLoading: false,\n        category: action.category\n      });\n\n    case SHOP_FETCH_PRODUCTS_LIST_START:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        productsListIsLoading: true\n      });\n\n    case SHOP_FETCH_PRODUCTS_LIST_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        productsListIsLoading: false,\n        productsList: action.productsList\n      });\n\n    case SHOP_SET_OPTION_VALUE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        options: _objectSpread(_objectSpread({}, state.options), {}, {\n          page: 1,\n          [action.option]: action.value\n        })\n      });\n\n    case SHOP_SET_FILTER_VALUE:\n      return shopReducerSetFilterValue(state, action);\n\n    case SHOP_RESET_FILTERS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        options: _objectSpread(_objectSpread({}, state.options), {}, {\n          page: 1\n        }),\n        filters: {}\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default shopReducer;","map":{"version":3,"sources":["D:/xampp/htdocs/neo.co.th/nextapp/src/store/shop/shopReducer.ts"],"names":["SHOP_NAMESPACE","SHOP_FETCH_CATEGORY_SUCCESS","SHOP_FETCH_PRODUCTS_LIST_START","SHOP_FETCH_PRODUCTS_LIST_SUCCESS","SHOP_HYDRATE","SHOP_INIT","SHOP_RESET_FILTERS","SHOP_SET_FILTER_VALUE","SHOP_SET_OPTION_VALUE","initialState","init","categorySlug","categoryIsLoading","category","productsListIsLoading","productsList","options","filters","shopReducerSetFilterValue","state","action","currentFilters","value","filter","page","shopReducer","type","payload","option"],"mappings":";;;;;;AAAA;AAEA,SAASA,cAAT,QAA0C,aAA1C;AACA,SACIC,2BADJ,EAEIC,8BAFJ,EAGIC,gCAHJ,EAIIC,YAJJ,EAKIC,SALJ,EAMIC,kBANJ,EAOIC,qBAPJ,EAQIC,qBARJ,QAWO,mBAXP;AAaA,MAAMC,YAAuB,GAAG;AAC5BC,EAAAA,IAAI,EAAE,KADsB;AAE5BC,EAAAA,YAAY,EAAE,IAFc;AAG5BC,EAAAA,iBAAiB,EAAE,IAHS;AAI5BC,EAAAA,QAAQ,EAAE,IAJkB;AAK5BC,EAAAA,qBAAqB,EAAE,IALK;AAM5BC,EAAAA,YAAY,EAAE,IANc;AAO5BC,EAAAA,OAAO,EAAE,EAPmB;AAQ5BC,EAAAA,OAAO,EAAE;AARmB,CAAhC;;AAWA,SAASC,yBAAT,CAAmCC,KAAnC,EAAqDC,MAArD,EAAkG;AAC9F,QAAMC,cAAc,qBAAQF,KAAK,CAACF,OAAd,CAApB;;AACA,MAAIA,OAAJ;;AAEA,MAAIG,MAAM,CAACE,KAAP,KAAiB,IAArB,EAA2B;AACvBL,IAAAA,OAAO,mCAAQI,cAAR;AAAwB,OAACD,MAAM,CAACG,MAAR,GAAiBH,MAAM,CAACE;AAAhD,MAAP;AACH,GAFD,MAEO;AACH,WAAOD,cAAc,CAACD,MAAM,CAACG,MAAR,CAArB;AAEAN,IAAAA,OAAO,qBAAQI,cAAR,CAAP;AACH;;AAED,yCACOF,KADP;AAEIH,IAAAA,OAAO,kCAAOG,KAAK,CAACH,OAAb;AAAsBQ,MAAAA,IAAI,EAAE;AAA5B,MAFX;AAGIP,IAAAA;AAHJ;AAKH;;AAED,SAASQ,WAAT,CAAqBN,KAAK,GAAGV,YAA7B,EAA2CW,MAA3C,EAA0E;AACtE,UAAQA,MAAM,CAACM,IAAf;AACA,SAAKtB,YAAL;AACI,aAAOgB,MAAM,CAACO,OAAP,CAAe3B,cAAf,CAAP;;AACJ,SAAKK,SAAL;AACI,6CACOI,YADP;AAEIE,QAAAA,YAAY,EAAES,MAAM,CAACT,YAFzB;AAGIK,QAAAA,OAAO,EAAEI,MAAM,CAACJ,OAHpB;AAIIC,QAAAA,OAAO,EAAEG,MAAM,CAACH;AAJpB;;AAMJ,SAAKhB,2BAAL;AACI,6CACOkB,KADP;AAEIT,QAAAA,IAAI,EAAE,IAFV;AAGIE,QAAAA,iBAAiB,EAAE,KAHvB;AAIIC,QAAAA,QAAQ,EAAEO,MAAM,CAACP;AAJrB;;AAMJ,SAAKX,8BAAL;AACI,6CAAYiB,KAAZ;AAAmBL,QAAAA,qBAAqB,EAAE;AAA1C;;AACJ,SAAKX,gCAAL;AACI,6CACOgB,KADP;AAEIL,QAAAA,qBAAqB,EAAE,KAF3B;AAGIC,QAAAA,YAAY,EAAEK,MAAM,CAACL;AAHzB;;AAKJ,SAAKP,qBAAL;AACI,6CACOW,KADP;AAEIH,QAAAA,OAAO,kCAAOG,KAAK,CAACH,OAAb;AAAsBQ,UAAAA,IAAI,EAAE,CAA5B;AAA+B,WAACJ,MAAM,CAACQ,MAAR,GAAiBR,MAAM,CAACE;AAAvD;AAFX;;AAIJ,SAAKf,qBAAL;AAA4B,aAAOW,yBAAyB,CAACC,KAAD,EAAQC,MAAR,CAAhC;;AAC5B,SAAKd,kBAAL;AACI,6CAAYa,KAAZ;AAAmBH,QAAAA,OAAO,kCAAOG,KAAK,CAACH,OAAb;AAAsBQ,UAAAA,IAAI,EAAE;AAA5B,UAA1B;AAA2DP,QAAAA,OAAO,EAAE;AAApE;;AACJ;AACI,aAAOE,KAAP;AAlCJ;AAoCH;;AAED,eAAeM,WAAf","sourcesContent":["// application\nimport { IFilterValues } from '../../interfaces/list';\nimport { SHOP_NAMESPACE, ShopState } from './shopTypes';\nimport {\n    SHOP_FETCH_CATEGORY_SUCCESS,\n    SHOP_FETCH_PRODUCTS_LIST_START,\n    SHOP_FETCH_PRODUCTS_LIST_SUCCESS,\n    SHOP_HYDRATE,\n    SHOP_INIT,\n    SHOP_RESET_FILTERS,\n    SHOP_SET_FILTER_VALUE,\n    SHOP_SET_OPTION_VALUE,\n    ShopAction,\n    ShopSetFilterValueAction,\n} from './shopActionTypes';\n\nconst initialState: ShopState = {\n    init: false,\n    categorySlug: null,\n    categoryIsLoading: true,\n    category: null,\n    productsListIsLoading: true,\n    productsList: null,\n    options: {},\n    filters: {},\n};\n\nfunction shopReducerSetFilterValue(state: ShopState, action: ShopSetFilterValueAction): ShopState {\n    const currentFilters = { ...state.filters };\n    let filters: IFilterValues;\n\n    if (action.value !== null) {\n        filters = { ...currentFilters, [action.filter]: action.value };\n    } else {\n        delete currentFilters[action.filter];\n\n        filters = { ...currentFilters };\n    }\n\n    return {\n        ...state,\n        options: { ...state.options, page: 1 },\n        filters,\n    };\n}\n\nfunction shopReducer(state = initialState, action: ShopAction): ShopState {\n    switch (action.type) {\n    case SHOP_HYDRATE:\n        return action.payload[SHOP_NAMESPACE];\n    case SHOP_INIT:\n        return {\n            ...initialState,\n            categorySlug: action.categorySlug,\n            options: action.options,\n            filters: action.filters,\n        };\n    case SHOP_FETCH_CATEGORY_SUCCESS:\n        return {\n            ...state,\n            init: true,\n            categoryIsLoading: false,\n            category: action.category,\n        };\n    case SHOP_FETCH_PRODUCTS_LIST_START:\n        return { ...state, productsListIsLoading: true };\n    case SHOP_FETCH_PRODUCTS_LIST_SUCCESS:\n        return {\n            ...state,\n            productsListIsLoading: false,\n            productsList: action.productsList,\n        };\n    case SHOP_SET_OPTION_VALUE:\n        return {\n            ...state,\n            options: { ...state.options, page: 1, [action.option]: action.value },\n        };\n    case SHOP_SET_FILTER_VALUE: return shopReducerSetFilterValue(state, action);\n    case SHOP_RESET_FILTERS:\n        return { ...state, options: { ...state.options, page: 1 }, filters: {} };\n    default:\n        return state;\n    }\n}\n\nexport default shopReducer;\n"]},"metadata":{},"sourceType":"module"}