{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n// application\nimport { COMPARE_ADD_ITEM, COMPARE_REMOVE_ITEM } from './compareActionTypes';\nimport { withClientState } from '../client';\n\nfunction addItem(state, product) {\n  var itemIndex = state.items.findIndex(function (x) {\n    return x.id === product.id;\n  });\n\n  if (itemIndex === -1) {\n    return {\n      items: [].concat(_toConsumableArray(state.items), [JSON.parse(JSON.stringify(product))])\n    };\n  }\n\n  return state;\n}\n\nfunction removeItem(state, productId) {\n  return {\n    items: state.items.filter(function (x) {\n      return x.id !== productId;\n    })\n  };\n}\n\nvar initialState = {\n  items: []\n};\nexport var COMPARE_NAMESPACE = 'compare';\n\nfunction compareBaseReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case COMPARE_ADD_ITEM:\n      return addItem(state, action.product);\n\n    case COMPARE_REMOVE_ITEM:\n      return removeItem(state, action.productId);\n\n    default:\n      return state;\n  }\n}\n\nvar compareReducer = withClientState(compareBaseReducer, COMPARE_NAMESPACE);\nexport default compareReducer;","map":{"version":3,"sources":["D:/xampp/htdocs/neo.co.th/nextapp/src/store/compare/compareReducer.ts"],"names":["COMPARE_ADD_ITEM","COMPARE_REMOVE_ITEM","withClientState","addItem","state","product","itemIndex","items","findIndex","x","id","JSON","parse","stringify","removeItem","productId","filter","initialState","COMPARE_NAMESPACE","compareBaseReducer","action","type","compareReducer"],"mappings":";AAAA;AACA,SAASA,gBAAT,EAA2BC,mBAA3B,QAAqE,sBAArE;AAGA,SAASC,eAAT,QAAgC,WAAhC;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAsCC,OAAtC,EAAuE;AACnE,MAAMC,SAAS,GAAGF,KAAK,CAACG,KAAN,CAAYC,SAAZ,CAAsB,UAACC,CAAD;AAAA,WAAOA,CAAC,CAACC,EAAF,KAASL,OAAO,CAACK,EAAxB;AAAA,GAAtB,CAAlB;;AAEA,MAAIJ,SAAS,KAAK,CAAC,CAAnB,EAAsB;AAClB,WAAO;AACHC,MAAAA,KAAK,+BACEH,KAAK,CAACG,KADR,IAEDI,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeR,OAAf,CAAX,CAFC;AADF,KAAP;AAMH;;AAED,SAAOD,KAAP;AACH;;AAED,SAASU,UAAT,CAAoBV,KAApB,EAAyCW,SAAzC,EAA0E;AACtE,SAAO;AACHR,IAAAA,KAAK,EAAEH,KAAK,CAACG,KAAN,CAAYS,MAAZ,CAAmB,UAACP,CAAD;AAAA,aAAOA,CAAC,CAACC,EAAF,KAASK,SAAhB;AAAA,KAAnB;AADJ,GAAP;AAGH;;AAED,IAAME,YAA0B,GAAG;AAC/BV,EAAAA,KAAK,EAAE;AADwB,CAAnC;AAIA,OAAO,IAAMW,iBAAiB,GAAG,SAA1B;;AAEP,SAASC,kBAAT,GAAyE;AAAA,MAA7Cf,KAA6C,uEAArCa,YAAqC;AAAA,MAAvBG,MAAuB;;AACrE,UAAQA,MAAM,CAACC,IAAf;AACA,SAAKrB,gBAAL;AACI,aAAOG,OAAO,CAACC,KAAD,EAAQgB,MAAM,CAACf,OAAf,CAAd;;AAEJ,SAAKJ,mBAAL;AACI,aAAOa,UAAU,CAACV,KAAD,EAAQgB,MAAM,CAACL,SAAf,CAAjB;;AAEJ;AACI,aAAOX,KAAP;AARJ;AAUH;;AAED,IAAMkB,cAAc,GAAGpB,eAAe,CAACiB,kBAAD,EAAqBD,iBAArB,CAAtC;AAEA,eAAeI,cAAf","sourcesContent":["// application\nimport { COMPARE_ADD_ITEM, COMPARE_REMOVE_ITEM, CompareAction } from './compareActionTypes';\nimport { CompareState } from './compareTypes';\nimport { IProduct } from '../../interfaces/product';\nimport { withClientState } from '../client';\n\nfunction addItem(state: CompareState, product: IProduct): CompareState {\n    const itemIndex = state.items.findIndex((x) => x.id === product.id);\n\n    if (itemIndex === -1) {\n        return {\n            items: [\n                ...state.items,\n                JSON.parse(JSON.stringify(product)),\n            ],\n        };\n    }\n\n    return state;\n}\n\nfunction removeItem(state: CompareState, productId: number): CompareState {\n    return {\n        items: state.items.filter((x) => x.id !== productId),\n    };\n}\n\nconst initialState: CompareState = {\n    items: [],\n};\n\nexport const COMPARE_NAMESPACE = 'compare';\n\nfunction compareBaseReducer(state = initialState, action: CompareAction) {\n    switch (action.type) {\n    case COMPARE_ADD_ITEM:\n        return addItem(state, action.product);\n\n    case COMPARE_REMOVE_ITEM:\n        return removeItem(state, action.productId);\n\n    default:\n        return state;\n    }\n}\n\nconst compareReducer = withClientState(compareBaseReducer, COMPARE_NAMESPACE);\n\nexport default compareReducer;\n"]},"metadata":{},"sourceType":"module"}